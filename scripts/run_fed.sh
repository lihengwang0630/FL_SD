#!/bin/bash
# bash ./scripts/run_fed.sh


# shard_per_user  100
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 10 --epochs 320 --lr 0.0003 --num_users 100 --frac 0.1 --local_ep  1 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 10 --epochs  80 --lr 0.0003 --num_users 100 --frac 0.1 --local_ep  4 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 10 --epochs  32 --lr 0.0003 --num_users 100 --frac 0.1 --local_ep 10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
# shard_per_user  50
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 5 --epochs 320 --lr 0.0003 --num_users 100 --frac 0.1 --local_ep  1 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 5 --epochs  80 --lr 0.0003 --num_users 100 --frac 0.1 --local_ep  4 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 5 --epochs  32 --lr 0.0003 --num_users 100 --frac 0.1 --local_ep 10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
# shard_per_user  10
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 2 --epochs 320 --lr 0.0003 --num_users 100 --frac 0.1 --local_ep  1 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 2 --epochs  80 --lr 0.0003 --num_users 100 --frac 0.1 --local_ep  4 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 2 --epochs  32 --lr 0.0003 --num_users 100 --frac 0.1 --local_ep 10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full

# shard_per_user  100
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 10 --epochs 320 --lr 0.0003 --num_users 100 --frac 1.0 --local_ep  1 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 10 --epochs  80 --lr 0.0003 --num_users 100 --frac 1.0 --local_ep  4 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 10 --epochs  32 --lr 0.0003 --num_users 100 --frac 1.0 --local_ep 10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
# shard_per_user  50
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 5 --epochs 320 --lr 0.0003 --num_users 100 --frac 1.0 --local_ep  1 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 5 --epochs  80 --lr 0.0003 --num_users 100 --frac 1.0 --local_ep  4 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 5 --epochs  32 --lr 0.0003 --num_users 100 --frac 1.0 --local_ep 10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
# shard_per_user  10
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 2 --epochs 320 --lr 0.0003 --num_users 100 --frac 1.0 --local_ep  1 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 2 --epochs  80 --lr 0.0003 --num_users 100 --frac 1.0 --local_ep  4 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar10 --model cnn   --num_classes 10 --shard_per_user 2 --epochs  32 --lr 0.0003 --num_users 100 --frac 1.0 --local_ep 10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
'''

## finetuning 5 epochs ----------------------- GPU0
# full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 100 --epochs 320 --lr 0.001 --num_users 100 --frac 1.0 --local_ep  1 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 100 --epochs  80 --lr 0.001 --num_users 100 --frac 1.0 --local_ep  4 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 100 --epochs  32 --lr 0.001 --num_users 100 --frac 1.0 --local_ep 10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
# full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 50 --epochs 320 --lr 0.001 --num_users 100 --frac 1.0 --local_ep  1 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 50 --epochs  80 --lr 0.001 --num_users 100 --frac 1.0 --local_ep  4 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 50 --epochs  32 --lr 0.001 --num_users 100 --frac 1.0 --local_ep 10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
# full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 10 --epochs 320 --lr 0.001 --num_users 100 --frac 1.0 --local_ep  1 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 10 --epochs  80 --lr 0.001 --num_users 100 --frac 1.0 --local_ep  4 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 10 --epochs  32 --lr 0.001 --num_users 100 --frac 1.0 --local_ep 10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full

#shards = 50
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 50 --epochs 32 --personal_epoch 2 --lr 0.001 --num_users 100 --frac 0.1 --local_ep  10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 50 --epochs 32 --personal_epoch 3 --lr 0.001 --num_users 100 --frac 0.1 --local_ep  10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 50 --epochs 32 --personal_epoch 4 --lr 0.001 --num_users 100 --frac 0.1 --local_ep  10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 50 --epochs 32 --personal_epoch 10 --lr 0.001 --num_users 100 --frac 0.1 --local_ep  10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 50 --epochs 32 --personal_epoch 15 --lr 0.001 --num_users 100 --frac 0.1 --local_ep  10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 50 --epochs 32 --personal_epoch 20 --lr 0.001 --num_users 100 --frac 0.1 --local_ep  10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
#shards = 10
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 10 --epochs 32 --personal_epoch 2 --lr 0.001 --num_users 100 --frac 0.1 --local_ep  10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 10 --epochs 32 --personal_epoch 3 --lr 0.001 --num_users 100 --frac 0.1 --local_ep  10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 10 --epochs 32 --personal_epoch 4 --lr 0.001 --num_users 100 --frac 0.1 --local_ep  10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 10 --epochs 32 --personal_epoch 10 --lr 0.001 --num_users 100 --frac 0.1 --local_ep  10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 10 --epochs 32 --personal_epoch 15 --lr 0.001 --num_users 100 --frac 0.1 --local_ep  10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
python main_ours_ft.py --dataset cifar100 --model mobile   --num_classes 100 --shard_per_user 10 --epochs 32 --personal_epoch 20 --lr 0.001 --num_users 100 --frac 0.1 --local_ep  10 --local_bs 50 --local_upt_part full --aggr_part full --momentum 0.90 --wd 0.0 --seed 1 --gpu 0 --temperature 1 --KD_weight 1005 --KD_mode 0 --ol  3 --results_save final_ft_full
'''